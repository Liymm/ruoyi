(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229ba8"],{df4d:function(e,t,l){"use strict";l.r(t);var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[l("el-form-item",{attrs:{label:"uuid",prop:"uuid"}},[l("el-input",{attrs:{placeholder:"请输入uuid",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.uuid,callback:function(t){e.$set(e.queryParams,"uuid",t)},expression:"queryParams.uuid"}})],1),l("el-form-item",{attrs:{label:"手机号",prop:"userPhone"}},[l("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userPhone,callback:function(t){e.$set(e.queryParams,"userPhone",t)},expression:"queryParams.userPhone"}})],1),l("el-form-item",{attrs:{label:"邮箱",prop:"userEmail"}},[l("el-input",{attrs:{placeholder:"请输入邮箱",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userEmail,callback:function(t){e.$set(e.queryParams,"userEmail",t)},expression:"queryParams.userEmail"}})],1),l("el-form-item",{attrs:{label:"下拉选择",prop:"whiteList"}},[l("el-select",{style:{width:"100%"},attrs:{placeholder:"测试人员",clearable:""},model:{value:e.queryParams.whiteList,callback:function(t){e.$set(e.queryParams,"whiteList",t)},expression:"queryParams.whiteList"}},e._l(e.typeWhite,(function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"手机系统",prop:"clientType"}},[l("el-select",{style:{width:"100%"},attrs:{placeholder:"登录系统",clearable:""},model:{value:e.queryParams.clientType,callback:function(t){e.$set(e.queryParams,"clientType",t)},expression:"queryParams.clientType"}},e._l(e.typeSwitch,(function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"用户状态",prop:"deleteNum"}},[l("el-select",{style:{width:"100%"},attrs:{placeholder:"用户封禁状态",clearable:""},model:{value:e.queryParams.deleteNum,callback:function(t){e.$set(e.queryParams,"deleteNum",t)},expression:"queryParams.deleteNum"}},e._l(e.typeOptions,(function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-row",{staticClass:"mb8",attrs:{gutter:10}},[l("el-col",{attrs:{span:1.5}},[l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user_info:remove"],expression:"['system:user_info:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),l("el-col",{attrs:{span:1.5}},[l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user_info:export"],expression:"['system:user_info:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),l("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.user_infoList},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55",align:"center",selectable:e.checkboxT}}),l("el-table-column",{attrs:{label:"用户唯一标识",align:"center",prop:"uuid"}}),l("el-table-column",{attrs:{label:"手机号",align:"center","show-overflow-tooltip":!0,prop:"userPhone"}}),l("el-table-column",{attrs:{label:"邮箱","min-width":"“120”","show-overflow-tooltip":!0,align:"center",prop:"userEmail"}}),l("el-table-column",{attrs:{label:"当前用户的app版本",align:"center",prop:"appVersion"}}),l("el-table-column",{attrs:{label:"当前登录的手机名字","show-overflow-tooltip":!0,align:"center",prop:"phoneName"}}),l("el-table-column",{attrs:{label:"手机序列号","min-width":"“120”","show-overflow-tooltip":!0,align:"center",prop:"clientSn"}}),l("el-table-column",{attrs:{label:"表示ios或android登录",align:"center",prop:"clientType"}}),l("el-table-column",{attrs:{label:"手机型号+手机版本号","min-width":"“120”","show-overflow-tooltip":!0,align:"center",prop:"phoneModel"}}),l("el-table-column",{attrs:{label:"注册来源","min-width":"“120”","show-overflow-tooltip":!0,align:"center",prop:"userSource"}}),l("el-table-column",{attrs:{label:"登录时间","min-width":"“120”","show-overflow-tooltip":!0,align:"center",prop:"loginDatetime"}}),l("el-table-column",{attrs:{label:"国家",align:"center",prop:"country"}}),l("el-table-column",{attrs:{label:"测试人员",align:"center",prop:"whiteList"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.whiteList?l("p",[e._v("测试人员")]):l("p")]}}])}),l("el-table-column",{attrs:{label:"医疗显示","min-width":"“120”","show-overflow-tooltip":!0,align:"center",prop:"switchDisplay"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.deleteNum?l("p",[e._v("已注销")]):l("p"),null==t.row.switchDisplay||2==t.row.deleteNum?l("p"):l("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(l){return e.changeSwitch(l,t.row)}},model:{value:t.row.switchDisplay,callback:function(l){e.$set(t.row,"switchDisplay",l)},expression:"scope.row.switchDisplay"}}),l("p")]}}])}),l("el-table-column",{attrs:{label:"用户状态",align:"center",prop:"deleteNum"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.deleteNum?l("p",[e._v("已注销")]):l("el-switch",{attrs:{"active-value":0,"inactive-value":1},on:{change:function(l){return e.change(l,t.row)}},model:{value:t.row.deleteNum,callback:function(l){e.$set(t.row,"deleteNum",l)},expression:"scope.row.deleteNum"}})]}}])}),l("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.deleteNum?l("p"):l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user_info:edit"],expression:"['system:user_info:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(l){return e.handleUpdate(t.row)}}},[e._v("修改")]),l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user_info:remove"],expression:"['system:user_info:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(l){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[l("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"白名单",prop:"whiteList"}},[l("el-select",{style:{width:"100%"},attrs:{placeholder:"非测试人员",clearable:""},model:{value:e.form.whiteList,callback:function(t){e.$set(e.form,"whiteList",t)},expression:"form.whiteList"}},e._l(e.typeWhite,(function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),l("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),l("el-dialog",{attrs:{"append-to-body":"",visible:e.onOpen,title:"验证身份"},on:{"update:visible":function(t){e.onOpen=t},close:e.onClose},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-form",{ref:"pwd",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[l("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"密码",prop:"password"}},[l("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}}),l("p",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]})],1)],1)],1)],1)]}}])},[l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.close}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")])],1)])],1)},a=[],o=l("5530"),r=(l("d81d"),l("b775"));function i(e){return Object(r["a"])({url:"/system/user_info/list",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/system/user_info/"+e,method:"get"})}function u(e){return Object(r["a"])({url:"/system/user_info",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/system/user_info",method:"put",data:e})}function p(e){return Object(r["a"])({url:"/system/user_info/"+e,method:"delete"})}var m=l("2b0e"),d=new m["default"],h={inheritAttrs:!1,components:{},props:[],name:"User_info",data:function(){return{typeWhite:[{label:"非测试人员",value:0},{label:"测试人员",value:1}],typeSwitch:[{label:"iOS",value:"iOS"},{label:"android",value:"android"}],typeOptions:[{label:"启用",value:0},{label:"封号",value:1},{label:"已注销",value:2}],show:null,pwd:{},formData:{password:void 0},rules:{password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,user_infoList:[],title:"",open:!1,onOpen:!1,queryParams:{pageNum:1,pageSize:10,uuid:null,userPhone:null,userEmail:null,appVersion:null,phoneName:null,clientSn:null,clientType:null,phoneModel:null,userSource:null,loginDatetime:null,flag:null,accessToken:null,country:null,whiteList:null,switchDisplay:null,deleteNum:null},form:{}}},created:function(){this.getList()},methods:{checkboxT:function(e){return 2!==e.deleteNum},onOpen:function(){},onClose:function(){this.onOpen=!1,this.res()},close:function(){this.onOpen=!1,this.res()},changeSwitch:function(e,t){t.switchDisplay=e,c(t)},change:function(e,t){console.log(e),console.log(t),t.deleteNum=e,c(t)},getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.user_infoList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={pid:null,uuid:null,userPhone:null,userEmail:null,userPwd:null,appVersion:null,phoneName:null,clientSn:null,clientType:null,phoneModel:null,userSource:null,loginDatetime:null,flag:null,accessToken:null,country:null,selectType:null,deleteNum:null},this.resetForm("form")},res:function(){this.formData={password:null},this.resetForm("pwd")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.pid})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用户数据表"},handleUpdate:function(e){var t=this;this.reset();var l=e.pid||this.ids;s(l).then((function(e){t.form=e.data,t.open=!0,t.title="修改用户数据表"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.pid?c(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):u(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleConfirm:function(){var e=this;this.$refs["pwd"].validate((function(t){if(!t)return e.close();if("123"!==e.formData.password)return e.$modal.confirm("密码错误,删除失败"),e.close();d.$on("handleDelete",(function(t){e.show=t}));var l=e.show;e.$modal.confirm("是否确认删除当前用户？").then((function(){return p(l)})).then((function(){e.getList(),e.$modal.msgSuccess("删除成功")})).catch((function(){})),e.close()}))},handleDelete:function(e){this.show=e.pid,d.$emit("handleDelete",this.show),this.onOpen=!0},handleExport:function(){this.download("system/user_info/export",Object(o["a"])({},this.queryParams),"user_info_".concat((new Date).getTime(),".xlsx"))}}},f=h,w=l("2877"),b=Object(w["a"])(f,n,a,!1,null,null,null);t["default"]=b.exports}}]);